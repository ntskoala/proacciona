<button [disabled]="!fechaPrevista" type="button" [ngClass]="{'alert': alert }" md-raised-button (click)="seleccion()">periodicidad</button>

<div *ngIf="period" class="periods">
    <md-card>
        <md-card-title>
            <md-toolbar color="accent">Periodicidad - Fecha prevista actual {{diasemana}} - {{diames}} - {{fecha}}
            </md-toolbar>
        </md-card-title>
        <div class="form_period">
    <section class="selector section">
    <label class="l" for="tipo_periodo">{{'Repeticion' | translate}}</label>
    <select class="tipos" required [(ngModel)]="periodoactual.repeticion" name="tipo_periodo" (change)="cambio($event.target.value)">
        <option *ngFor="let opcion of periodos" value="{{opcion}}">{{opcion| translate}}</option>
      </select>
    </section>

    <section class="dias section" *ngIf="periodoactual.repeticion == 'diaria'" name="dias">
        <label class="l" for="dias">{{'Todos los ' | translate}}</label>
          </section>
      <section class="section"  *ngIf="periodoactual.repeticion == 'diaria'" >
        <md-checkbox [align]="end" class="dia" [(ngModel)]="dia.checked" *ngFor="let dia of periodoactual.dias; let i = index">{{dia.nombre}} </md-checkbox>
    </section>
        <!--<section class="section2" *ngIf="periodoactual.repeticion == 'semanal'">
        Los  {{dias[diasemana-1].nombre}}
    <select class="tipos pos2" required [(ngModel)]="periodoactual.nomdia" name="diasemana">
        <option *ngFor="let dia of dias; let i = index" value="{{i}}">{{dia.nombre}}</option>
      </select>
        </section>-->
    <section class="cadasemana section"  *ngIf="periodoactual.repeticion == 'semanal'">
    cada 
        <select class="numlist" required [(ngModel)]="periodoactual.frecuencia" name="cadasemana" (change)="setSemana($event.target.value)">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
      </select>
      {{writesemana}}
    </section>
        <section class="mensual section" *ngIf="periodoactual.repeticion=='anual'" name="mes">
        En &nbsp;
        <select  class="tipos pos2" required [(ngModel)]="periodoactual.mes" name="mes">
        <option *ngFor="let mes of meses;let i = index" value="{{i+1}}">{{mes}}</option>
      </select>
        </section>
    <section class="mensual section" *ngIf="periodoactual.repeticion == 'mensual' || periodoactual.repeticion=='anual'" name="mensual">
    Por 
    <select class="tipos pos1" required [(ngModel)]="periodoactual.tipo" name="tipo_periodo">
        <option value="diames">{{"dia del mes"| translate}}</option>
        <option value="diasemana">{{"dia de la semana"| translate}}</option>
      </select>
      <section class="section2" *ngIf="(periodoactual.tipo == 'diames' && periodoactual.repeticion == 'mensual') ">
          El día {{diames}}
      </section>
      <section class="section2" *ngIf="(periodoactual.tipo == 'diames' && periodoactual.repeticion == 'anual') ">
          El día 
    <select class="numlist pos2" required [(ngModel)]="periodoactual.numdia" name="diames">
        <option *ngFor="let i of numdias" value="{{i}}">{{i}}</option>
      </select> 
      </section>

    <section class="section2" *ngIf="(periodoactual.tipo == 'diasemana' && periodoactual.repeticion == 'mensual')  || (periodoactual.tipo == 'diasemana' && periodoactual.repeticion == 'anual') ">
        El 
              <select class="tipos" required [(ngModel)]="periodoactual.numsemana" name="numsemana">
        <option value="1">{{"primer"| translate}}</option>
        <option value="2">{{"segundo"| translate}}</option>
        <option value="3">{{"tercer"| translate}}</option>
        <option value="4">{{"cuarto"| translate}}</option>
        <option value="5">{{"ultimo"| translate}}</option>
      </select>
    <select class="tipos pos2" required [(ngModel)]="periodoactual.nomdia" name="diasemana">
        <option *ngFor="let dia of dias; let i =index" value="{{i+1}}">{{dia.nombre}}</option>
      </select>
    </section>

      <section class="section2">
          cada 
        <select class="numlist pos2" required [(ngModel)]="periodoactual.frecuencia" (change)="setMes($event.target.value)" name="cadames">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
      </select>
      {{writemes}}
      </section>

    </section>
    <hr class="hr">
    <button type="button" md-raised-button (click)="ok()">{{'aceptar' || translate}}</button>
    <button type="button" md-raised-button (click)="notok()">{{'cancelar' || translate}}</button>
        </div>
    </md-card>
</div>