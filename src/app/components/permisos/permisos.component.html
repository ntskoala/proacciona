<div class="modal" *ngIf="procesando">
<mat-spinner></mat-spinner>
</div>
<!-- <mat-toolbar [style]="{'width':ancho}" color="accent">{{'PermisosGenerales' | translate}} {{tipoControl | translate}} 
</mat-toolbar>-->
<h2 class="popupTitle">{{'PermisosGenerales' | translate}} {{tipoControl | translate | lowercase}}</h2>
<!-- <p-dataTable [value]="tabla">
    <p-column *ngFor="let col of cols" [field]="col.field" [header]="col.header | translate" [frozen]="col.field == 'user'">
            <ng-template pTemplate="header">
                    <span class="vertical cabecera">{{col.header | translate}}</span>
            </ng-template>
         <ng-template let-col let-user="rowData" pTemplate="body">
             <div style="text-align: center">
            <span *ngIf="col.field == 'user'">{{user[col.field]}} </span>
            <mat-slide-toggle class="options" (change)="setPermiso(user['iduser'],$event.checked)" *ngIf="col.field == 'user'"
          [checked]="user['generalSwitch']" style="float:right">
      </mat-slide-toggle>
            <mat-slide-toggle class="option" (change)="setPermiso(user['iduser'],$event.checked,col['header'])" *ngIf="col.field != 'user'"
          [checked]="user[col.field]">
      </mat-slide-toggle>
             </div>
        </ng-template> 
    </p-column>
</p-dataTable> -->




<!-- ********* INICIO TABLA REGISTROS-->
<div [style.width]="ancho" >
<p-table #DT [value]="tabla" [columns]="cols" 
  [responsive]="true" 
  [style]="{'width':'100%','padding':'0px 25px 0px 25px','text-align':'left'}"> 
  <ng-template pTemplate="header" let-columns>
       <tr>
      <th *ngFor="let col of columns"  [ngClass]="{'widthUsuario':col.header=='Usuario','widthNoUsuario':col.header!='Usuario','cabTitleTH':col.header.length > 20, 'border-right':true}">
        <div class="vertical cabecera cabTitle" [ngClass]="{'vertical':col.header!='Usuario','usuario':col.header=='Usuario'}">{{col.header | translate}}</div>
      </th>
      </tr>
  </ng-template>
 
  <ng-template pTemplate="body" let-user let-i="rowIndex" let-columns="columns">
    <tr [ngClass]="{'rowImpar':i%2==0,'rowPar':i%2!=0}">
      <td *ngFor="let col of columns" [ngClass]="{'rowRegistro':true}"  class="border-right padleft">
        <div style="text-align: center">
            <span *ngIf="col.field == 'user'">{{user[col.field]}} </span>
            <mat-slide-toggle class="options" (change)="setPermiso(user['iduser'],$event.checked)" *ngIf="col.field == 'user'"
          [checked]="user['generalSwitch']" style="float:right">
      </mat-slide-toggle>
            <mat-slide-toggle class="option" (change)="setPermiso(user['iduser'],$event.checked,col['header'])" *ngIf="col.field != 'user'"
          [checked]="user[col.field]">
      </mat-slide-toggle>
             </div>
      </td>
    </tr>
  </ng-template>
</p-table>
</div>